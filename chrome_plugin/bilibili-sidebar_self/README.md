# Bilibili 广告跳过工具

这是一个Chrome扩展，用于自动跳过哔哩哔哩(Bilibili)视频中的广告内容。

## 规划 todo list
- 增加API-KEY的输入，启动实时分析
- 混淆代码
- 增加有API-KEY了才弹出NOTION的KEY和Database的选项，用来匹配并操作标记

## 功能特点

- 自动检测和跳过视频中的广告
- 支持为每个视频单独设置广告时间段
- 自动保存广告时间段，再次观看时无需重复设置
- 支持通过URL参数共享广告时间段
- 简洁的界面，不影响正常使用
- 全局开关控制，随时可以启用/禁用功能
- 管理员模式，用于高级设置和数据管理

## 安装步骤

1. 下载本项目并解压
2. 将SVG图标转换为PNG格式（需要使用图像编辑软件）
   - `icons/icon16.svg` -> `icons/icon16.png`
   - `icons/icon48.svg` -> `icons/icon48.png`
   - `icons/icon128.svg` -> `icons/icon128.png`
3. 打开Chrome浏览器，进入扩展管理页面（chrome://extensions/）
4. 开启"开发者模式"
5. 点击"加载已解压的扩展程序"
6. 选择项目文件夹

## 使用方法

1. 访问B站视频页面时，会在右上角显示"⏩ 广告跳过"按钮
2. 点击按钮设置广告时间段，格式: `开始-结束,开始-结束`
3. 例如: `61-87,120-145` 表示跳过61秒到87秒和120秒到145秒的广告
4. 点击"应用时间段"按钮使设置生效
5. 设置会自动保存，下次观看该视频时会自动跳过广告

### 全局开关

1. 点击"⏩ 广告跳过"按钮打开控制面板
2. 面板右上角有一个开关，可以临时启用/禁用广告跳过功能
3. 禁用后，即使设置了广告时间段也不会自动跳过
4. 此设置是临时的，重启浏览器后会自动恢复为启用状态

### 管理员模式

管理员模式提供更高级的功能，如数据管理和调试：

1. 点击面板底部的"🔑 管理员登录"按钮
2. 输入正确的API密钥（需要向开发者获取）
3. 登录成功后，管理员按钮会显示为"🔧 管理员设置"
4. 点击该按钮可以打开管理面板
5. 管理员权限会在当前会话中保持（关闭浏览器后需重新登录）

## 通过URL分享

1. 在设置界面输入广告时间段后，点击"生成链接"按钮
2. 复制生成的链接分享给他人
3. 他人点击链接后，插件会自动应用广告跳过设置

## 常见问题

- **问题**: 设置了时间段但没有跳过广告
  **解决**: 确保开关处于打开状态，并且时间段设置正确且点击了"应用"按钮

- **问题**: 跳过了想看的内容
  **解决**: 调整时间段，避开想观看的内容，或临时关闭开关

- **问题**: 无法访问管理员功能
  **解决**: 联系插件开发者获取正确的API密钥

## 开发说明

这个扩展基于Chrome的API开发，主要使用了:
- `chrome.storage` - 保存用户设置
- `chrome.tabs` - 获取当前标签页信息
- DOM操作 - 注入UI和监控视频播放
- `localStorage` 和 `sessionStorage` - 临时存储开关状态和管理员会话

## 许可证

MIT

## 致谢

原本的功能来自Tampermonkey脚本"B站智能广告跳过 - 调试增强版"，由Izumi屈源开发。